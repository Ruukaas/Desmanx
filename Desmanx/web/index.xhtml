<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Desmanx</title>
    </h:head>
    <h:body>

        <b:growl delay="4000" show-summary="true" show-detail="true"/>

        <c:if test="#{loginController.puxadorLogado ne null and loginController.tipoLogado eq 'contratante'}">
            <script>location.href = "indexContratante.xhtml"</script>
        </c:if>


        <b:jumbotron>
            <h1>Bem vindo ao Desmanxx</h1>
        </b:jumbotron>

        <p:dialog draggable="false" resizable="false" visible="true"
                  closable="false" closeOnEscape="false" modal="false">

            <f:facet name="header">
                Logar no Sistema
            </f:facet>

            <b:form id="formLogin">
                <b:panelGrid columns="1">
                    <h:outputText value="login:"/>
                    <b:inputText value="#{login}"/>

                    <h:outputText value="senha:"/>
                    <b:inputSecret value="#{senha}"/>
                </b:panelGrid>
                <p:panel>
                    <h5>Cadastrar-se</h5>
                    <b:link value="Cadastro Puxador" onclick="$('#modalCadPuxador').modal('show')"/><br/>
                </p:panel>
                <b:commandButton value="logar" style="float: right"
                                 style-class="btn btn-primary"
                                 action="#{loginController.logar(login, senha)}"/>
            </b:form>

        </p:dialog>

        <b:modal id="modalCadPuxador" style-class="fade modal-fade"
                 title="Cadastre-se em nosso sistema">

            <b:form id="formCadPuxador">
                <b:panelGrid columns="2">
                    
                    <h:outputText value="Email"/>
                    <h:inputText value="#{puxadorController.cadastro.email}"/>
                    
                    <h:outputText value="Senha"/>
                    <h:inputSecret value="#{puxadorController.cadastro.senha}"/>
                    
                     <h:outputText value="Confirmar senha"/>
                    <b:inputSecret value="#{confirma}"/>
                    
                    <h:outputText value="CPF(Only Numbers)"/>
                    <h:inputText value="#{puxadorController.cadastro.CPF}" onkeypress=" if (event.which &lt; 48 || event.which &gt; 57) return false;"/>

                    <h:outputText value="Nome"/>
                    <h:inputText value="#{puxadorController.cadastro.nome}"/>

                    <h:outputText value="Sobrenome"/>
                    <h:inputText value="#{puxadorController.cadastro.sobrenome}"/>

                    <h:outputText value="Telefone(Only Numbers)"/>
                    <h:inputText value="#{puxadorController.cadastro.telefone}" onkeypress=" if (event.which &lt; 48 || event.which &gt; 57) return false;"/>

                    <h:outputText value="Endereço"/>
                    <h:inputText value="#{puxadorController.cadastro.endereço}"/>

                    <h:outputText value="Endereço da Mãe"/>
                    <h:inputText value="#{puxadorController.cadastro.endereço_mae}"/>

                    <h:outputText value="Quantidade de prisões (Only numbers)"/>
                    <h:inputText value="#{puxadorController.cadastro.quantidade_prisoes}" onkeypress=" if (event.which &lt; 48 || event.which &gt; 57) return false;"/>

                    <h:outputText value="Especialidade de roubo"/>
                    <h:inputText value="#{puxadorController.cadastro.especialidade_roubo}"/>

                    <h:outputText value="Anos de Experiência (Only Numbers)"/>
                    <h:inputText value="#{puxadorController.cadastro.anos_experiência}" onkeypress=" if (event.which &lt; 48 || event.which &gt; 57) return false;"/>

                </b:panelGrid>
                <b:commandButton value="registrar" action="#{puxadorController.inserir(confirma)}"/>
            </b:form>

        </b:modal>

    </h:body>
</html>

